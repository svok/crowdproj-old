<!-- HTML for static distribution bundle build -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Swagger UI</title>
    <!-- script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
<p>Hello World!</p>

<!--script>
 var sock = new SockJS('http://localhost:9000/sockjs');
 sock.onopen = function() {
     console.log('open');
     sock.send('test');
 };

 sock.onmessage = function(e) {
     console.log('message', e.data);
//     sock.close();
 };

 sock.onclose = function() {
     console.log('close');
 };
</script-->

<script>
var sock = new WebSocket("ws://localhost:9000/ws", ["protocolOne", "protocolTwo"]);
sock.onopen = function(event) {
    console.log('open');
    console.log(event);
    var json = {
        "type": "testEvent",
        "payload": {
            "user": {
                "id": "1234",
                "email": "point@point.po"
            },
            "point": "one",
            "manyPoints": [1,2,3],
            "Object": {
                "this":"is"
            }
        }
    };
    sock.send(JSON.stringify(json));
};

sock.onmessage = function(event) {
    console.log('message', event.data);
//     sock.close();
};

sock.onclose = function() {
     console.log('close');
};
</script>
</body>

</html>
